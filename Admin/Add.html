<!DOCTYPE html>
<html>
<head>
<title>Add Subjects</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="Course Project">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="styles/bootstrap4/bootstrap.min.css">
<link href="plugins/fontawesome-free-5.0.1/css/fontawesome-all.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="styles/elements_styles.css">
<link rel="stylesheet" type="text/css" href="styles/elements_responsive.css">
<link rel="stylesheet" type="text/css" href="styles/menuDropDown.css">
</head>
<body>

<div class="super_container">

<!-- Header -->
<header class="header d-flex flex-row">
	<div class="header_content d-flex flex-row align-items-center">
		<!-- Logo -->
		<div class="logo_container">
			<div class="logo">
				<img src="images/ATlogo221.png" alt="logo" width="64px" height="66px">&nbsp;
				<span>AT: Administrator</span>
			</div>
		</div>

		<!-- Main Navigation -->
		<nav class="main_nav_container">
			<div class="main_nav">
				<ul class="main_nav_list">
					<li class="main_nav_item"><a href="Administrator.html">HOME</a></li>
					<li class="main_nav_item"><a href="../about.html">ABOUT US</a></li>
					<li class="main_nav_item"><a href="../contact.html">CONTACT US</a></li>
					<li class="main_nav_item"><a href="profile.html">PROFILE</a></li>
				</ul>
			</div>
		</nav>
	</div>
	<div class="header_side d-flex flex-row justify-content-center align-items-center">
	    <a href="logout.php"><span>LOGOUT</span></a>
	</div>

	<!-- Hamburger -->
	<div class="hamburger_container">
		<i class="fas fa-bars trans_200"></i>
	</div>

</header>

	<!-- Menu -->
	<div class="menu_container menu_mm">

		<!-- Menu Close Button -->
		<div class="menu_close_container">
			<div class="menu_close"></div>
		</div>

		<!-- Menu Items -->
		<div class="menu_inner menu_mm">
			<div class="menu menu_mm">
				<ul class="menu_list menu_mm">
					<li class="menu_item menu_mm"><a href="Administrator.html">HOME</a></li>
					<li class="menu_item menu_mm"><a href="../about.html">ABOUT US</a></li>
					<li class="menu_item menu_mm"><a href="../contact.html">CONTACT US</a></li>					
					<li class="menu_item menu_mm"><a href="profile.html">PROFILE</a></li>
					<li class="menu_item menu_mm"><a href="logout.php">LOGOUT</a></li>
				</ul>
			</div>
		</div>
	</div>

	<!-- Home -->
	<div class="home">
		<div class="home_background_container prlx_parent">
			<div class="home_background prlx" style="background-image:url(images/contact_background.jpg)"></div>
		</div>
		<div class="home_content">
			<h1>Add Subjects</h1>
		</div>
	</div>

	<!-- Elements -->

<div class="elements">

    <h2> Enter Subject details</h2>

         <div class="form_container">
            <form action="AddSubjects.php" name = "subject_form" method="post" enctype="multipart/form-data" onsubmit = "return validateAllFields(this)">

            <label for="subject_name"><b>Subject Name</b></label> <span id="error-sname" span style = "float: right"></span><br>
            <input type="text" name="subject_name" id="subject_name" onblur = "validateSubjectName(subject_name)" maxlength = "20" required /><br>

			<hr>

           <label for="subject_grade"><b>Subject Grade</b> </label> <span id ="error-sgrade" span style = "float: right"></span><br>
            <select id = "subject_grade" name = "subject_grade" onblur = "validateSubjectGrade (subject_grade)" required>
				<option value="">Select...</option>
				<option value="8">8</option>
				<option value="9">9</option>
				<option value="10">10</option>
				<option value="11">11</option>
				<option value="12">12</option>
			</select>

			<hr>

            <label for="subject_code"><b>Subject Code</b></label><span id="error-scode" span style = "float: right"></span><br>
            <input type="text" name="subject_code" id="subject_code" onblur = "validateSubjectCode(subject_code)" maxlength = "8" required /><br>

            <input type="reset" value="Clear Form">
            <input type="submit" value="Add" onclick = "return validateAllFields()" value="Add Subjects">

            </form>

			<script>

		var send = document.getElementsByName("subject_form");

		function validateSubjectName(subject_name) //accepts hyphens, apostrophes, alphabetic and numerical characters. Also allows for space between two words.
		{

			var combo = /^[A-Za-z0-9 '-]+$/;

			if (combo.test(document.getElementById("subject_name").value)) //subject name should match characters specified in the combo variable.
			{
				document.getElementById ("subject_name").style.background = "white";
				document.getElementById("subject_name").style.display = "inline";
				document.getElementById('error-sname').innerHTML = "Input Accepted.";
				return true;
			}
			else
			{
				document.getElementById ("subject_name").style.background = "red";
				document.getElementById("subject_name").style.display = "inline";
				document.getElementById('error-sname').innerHTML = "Incorrect Input. Please use alphabetic and numerical values only. Hyphens, apostrophes and spaces between words are allowed.";
				return false;
			}

			return subject_name;
		}

		function validateSubjectGrade (subject_grade) //accepts grade 8 to 12
		{
			var grade = document.getElementById ('subject_grade').value;


			if (grade == "")
			{
				document.getElementById ("subject_grade").style.background = "red";
				document.getElementById("subject_grade").style.display = "inline";
				document.getElementById('error-sgrade').innerHTML = "Incorrect Input. Please select subject grade.";
				return false;

			}
			else if (grade == "8")
			{
				document.getElementById ("subject_grade").style.background = "white";
				document.getElementById("subject_grade").style.display = "inline";
				document.getElementById('error-sgrade').innerHTML = "Input Accepted.";
				return true;
			}
			else if (grade == "9")
			{
				document.getElementById ("subject_grade").style.background = "white";
				document.getElementById("subject_grade").style.display = "inline";
				document.getElementById('error-sgrade').innerHTML = "Input Accepted.";
				return true;
			}
			else if (grade == "10")
			{
				document.getElementById ("subject_grade").style.background = "white";
				document.getElementById("subject_grade").style.display = "inline";
				document.getElementById('error-sgrade').innerHTML = "Input Accepted.";
				return true;
			}
			else if (grade == "11")
			{
				document.getElementById ("subject_grade").style.background = "white";
				document.getElementById("subject_grade").style.display = "inline";
				document.getElementById('error-sgrade').innerHTML = "Input Accepted.";
				return true;
			}
			else if (grade == "12")
			{
				document.getElementById ("subject_grade").style.background = "white";
				document.getElementById("subject_grade").style.display = "inline";
				document.getElementById('error-sgrade').innerHTML = "Input Accepted.";
				return true;
			}

			return subject_grade;
		}

		function validateSubjectCode(subject_code) //accepts alphabetic and numerical characters only.
		{
			var code = /^[A-Za-z0-9_]+$/;

			if ((code.test(document.getElementById("subject_code").value)) && (subject_code.value.length >= 4))
			{
				document.getElementById ("subject_code").style.background = "white";
				document.getElementById("subject_code").style.display = "inline";
				document.getElementById('error-scode').innerHTML = "Input Accepted.";
				return true;
			}
			else
			{
				document.getElementById ("subject_code").style.background = "red";
				document.getElementById("subject_code").style.display = "inline";
				document.getElementById('error-scode').innerHTML = "Incorrect Input. Please ensure that the length of the subject code is equal to or longer than 4 characters and it consists of alphabetic and numberical characters only.";
				return false;
			}

			return subject_code

		}

		function validateAllFields () //checks if there are any fields with red backgrounds indicating incorrect input.
		{
			if((document.getElementById('subject_name').style.background == "red") || (document.getElementById('subject_grade').style.background == "red") || (document.getElementById('subject_code').style.background == "red"))
			{
				alert('Please ensure that there are no red fields');
				event.preventDefault(); //prevents form submission.
				return validateAllFields(x);
			}
			else
			{

				document.getElementByName("subject_form").submit(); //submits form.
			}

		}

	</script>
<button class="button" onclick="goBack()">Back </button>

	    	<script>
				 function goBack() {
				 window.history.back();
				}
                </script>
         </div>
    
	
</div>
        <br>
        <div class="footer">
                <Span>
                    Academics Tracker All rights reserved
                </Span>
        </div>
</div>

<script src="js/jquery-3.2.1.min.js"></script>
<script src="styles/bootstrap4/popper.js"></script>
<script src="styles/bootstrap4/bootstrap.min.js"></script>
<script src="plugins/greensock/TweenMax.min.js"></script>
<script src="plugins/greensock/TimelineMax.min.js"></script>
<script src="plugins/scrollmagic/ScrollMagic.min.js"></script>
<script src="plugins/greensock/animation.gsap.min.js"></script>
<script src="plugins/greensock/ScrollToPlugin.min.js"></script>
<script src="plugins/progressbar/progressbar.min.js"></script>
<script src="plugins/scrollTo/jquery.scrollTo.min.js"></script>
<script src="plugins/easing/easing.js"></script>
<script src="js/elements_custom.js"></script>

</body>
</html>
